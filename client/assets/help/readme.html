<!-- Этот файл сгенерирован автоматически из README.md -->
<section class="readme">
<h1>Локальный прокторинг</h1>
<h2>Поддерживаемые браузеры</h2>
<h3>Расширение предназначено для работы с браузером Google Chrome. Требуемая версия браузера Google Chrome 134 и выше.</h3>
<p>Узнать свою версию браузера Google Chrome можно по адресу <code>chrome://version</code>, где после слов Google Chrome указаны четыре числа и первое из них и является нужным для сравнения.</p>
<p>Поскольку расширение разработано на базе браузера Google Chrome, который основан на Chromium, потенциально оно должно работать на других браузерах, основанных так же на Chromium. В их числе Microsoft Edge, Yandex Browser, Opera и другие. ОДНАКО на данный момент НЕТ официальной поддержки браузеров кроме Google Chrome, поскольку тестирование НЕ проводилось.</p>
<h2>Поддерживаемые операционные системы</h2>
<h3>Расширение предназначено для работы с Linux и Windows.</h3>
<p>В ближайшее время НЕ планируется поддержка MacOS ввиду отсутствия возможности разработки и тестирования под данную систему. Потенциально расширение может работать в данной системе из-за привязки к браузеру, однако браузер в свою очередь связан с системой, что может привести к возникновению ошибок и других некорректных ситуаций.</p>
<h2>Замечания:</h2>
<ul>
<li><p>В версиях 1.2.* выбирайте только основной экран для работы и браузера в случае, когда вы имеете больше одного монитора.</p>
</li>
<li><p>Данная инструкция является ознакомительной и не избавляет пользователя от обязанности внимательно читать уведомления на экране. Текст уведомлений может иметь немного отличий от представленного на изображениях ниже.</p>
</li>
</ul>
<h1>Инструкция по использованию системы локального прокторинга</h1>
<h2>Подготовка папки расширения</h2>
<ol>
<li><p>Скачайте zip архив расширения. Имя архива будет <code>client_v1.2.2.zip</code> или при более новых версиях меняется комбинация чисел после v. Чтобы получить последнюю версию расширения, Вам нужно перейти на страницу релизов по ссылке <a href="https://github.com/moevm/mse1h2025-prctr/releases/latest">https://github.com/moevm/mse1h2025-prctr/releases/latest</a> и скачать архив с названием <code>client_v*.*.*.zip</code>, где вместо * стоят числа версии. Прямая ссылка на скачивание архива расширения версии 1.2.2 <a href="https://github.com/moevm/mse1h2025-prctr/releases/download/v1.2.2/client_v1.2.2.zip">https://github.com/moevm/mse1h2025-prctr/releases/download/v1.2.2/client_v1.2.2.zip</a>.</p>
</li>
<li><p>Распакуйте архив расширения. Архиваторы работают по-разному. Если при распаковке Вы получили папку <code>client</code>, то это папка с расширением. Если вы получили папку с названием как у архива, то папка <code>client</code> находится внутри.</p>
</li>
</ol>
<h2>Установка расширения в Google Chrome</h2>
<ol>
<li><p>Откройте раздел &quot;Управление расширениями&quot; в браузере.</p>
<p> <img src="../assets/docs/managingExtensions.png" alt="Alt text"></p>
</li>
<li><p>Активируйте режим разработчика.</p>
<p> <img src="../assets/docs/developerMode.png" alt="Alt text"></p>
</li>
<li><p>Нажмите &quot;Load unpacked&quot; (Загрузить распакованное расширение) и выберите папку расширения <code>client</code>.</p>
<p> <img src="../assets/docs/loadUnpacked.png" alt="Alt text"></p>
</li>
<li><p>После успешной загрузки расширение должно появиться среди остальных установленных расширений.
 <img src="../assets/docs/loadedExtension.png" alt="Alt text"></p>
</li>
<li><p>Для удобства закрепите расширение на панели инструментов.</p>
<p> <img src="../assets/docs/pinnedExtension.png" alt="Alt text"></p>
</li>
</ol>
<h2>Работа с клиентской частью расширения</h2>
<p>Для начала работы с расширением Вам необходимо выполнить следующие действия:</p>
<ol>
<li><p><strong>Откройте интерфейс расширения</strong>:</p>
<ul>
<li>Нажмите на значок расширения на панели инструментов браузера (правый верхний угол), если вы его закрепили.</li>
<li>Или нажмите на значок &quot;Пазл&quot; $\rightarrow$ выберите &quot;Local proctoring&quot; из списка расширений.</li>
</ul>
</li>
<li><p><strong>Заполните обязательные данные</strong>:</p>
<ul>
<li><strong>Группа</strong>: введите ровно 4 цифры (например, <code>1234</code>).</li>
<li><strong>Фамилия</strong>, <strong>Имя</strong>, <strong>Отчество</strong>: укажите свои данные, начиная с заглавной буквы (допустимы русские/латинские буквы и тире).</li>
<li><strong>Ссылка на экзаменационную &quot;комнату&quot;</strong>: введите корректный URL. Выдается преподавателем.</li>
</ul>
</li>
<li><p><strong>Настройте разрешения</strong>:</p>
<ul>
<li>Нажмите кнопку &quot;Разрешения&quot;.</li>
<li>Последовательно предоставьте доступ к:<ol>
<li>Записи экрана</li>
<li>Использованию микрофона</li>
<li>Использованию камеры</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>Приступите к записи</strong>:</p>
<ul>
<li>После успешной настройки разрешений нажмите &quot;Начать запись&quot;.</li>
<li>Для завершения нажмите &quot;Остановить запись&quot; - файлы сохранятся в папку загрузок браузера, выставленную в настройка самого браузера. По умолчанию данная папка &quot;Загрузки&quot;, или &quot;Downloads&quot; и др. в зависимости от локализации. Поддерживается случай настройки загрузок в браузере, запрашивающий подтверждение скачивания: в таком случае система выводит системное окно с подтверждением скачивания.</li>
</ul>
</li>
</ol>
<h3><strong>Важно</strong>: Перед началом работы обязательно ознакомьтесь с полной инструкцией ниже - это поможет избежать распространённых ошибок.</h3>
<h2>Подробные инструкции:</h2>
<h3>1. Открытие popup-расширения</h3>
<ol>
<li><p>Если ранее расширение было закреплено на панели инструментов браузера (правый верхний угол, рядом со строкой адреса), то для открытия интерфейса popup-расширения (popup - всплывающее окно) нажмите на значок расширения.</p>
<p> <img src="../assets/docs/openPinnedPopup.png" alt="Alt text"></p>
</li>
<li><p>Иначе нажмите на значок &quot;Пазл&quot; на панели инструментов браузера (правый верхний угол, рядом со строкой адреса).</p>
<p> <img src="../assets/docs/popupLocation.png" alt="Alt text"></p>
</li>
<li><p>В открывшемся окне нажмите по области рядом с иконкой/названием расширения, чтобы открыть интерфейс popup-расширения.</p>
<p> <img src="../assets/docs/openPopup.png" alt="Alt text"></p>
</li>
</ol>
<h3>2. Интерфейс popup-расширения</h3>
<p><img src="../assets/docs/popupInterface.png" alt="Alt text"></p>
<ul>
<li>Поля:</li>
<li>Группа</li>
<li>Фамилия</li>
<li>Имя</li>
<li>Отчество</li>
<li>Ссылка на экзаменационную &quot;комнату&quot;.</li>
</ul>
<p> <strong>Важно:</strong> В прокторинге есть сущность, которая отвечает за &quot;комнаты&quot;. Запись привязана к комнате (ссылка на экзамен). Ссылка выдается преподавателем перед началом экзамена.</p>
<ul>
<li>Чекбокс для пользователей без Отчества</li>
<li>Информация о текущих статусах разрешений (✓ – предоставлено, ✗ – не предоставлено):<ul>
<li>Микрофон</li>
<li>Камера</li>
<li>Экран</li>
</ul>
</li>
<li>Дата начала последней записи</li>
<li>Время записи</li>
<li>Кнопки:<ul>
<li>Разрешения – запрашивает доступ к необходимым разрешениям</li>
<li>Начать запись – начинает записи</li>
<li>Остановить запись – заканчивает записи, сохраняя их у пользователя локально</li>
</ul>
</li>
</ul>
<h3>3. Заполнение данных</h3>
<p>В форме необходимо указать:</p>
<ul>
<li><p><strong>Группа</strong>: ровно 4 цифры (например, <code>1234</code>).</p>
</li>
<li><p><strong>Фамилия, Имя, Отчество</strong>: должны начинаться с заглавной буквы и содержать только русские/латинские буквы и тире (например, <code>Иванов</code> или <code>Albus-Severus</code>). </p>
</li>
<li><p><strong>Ссылка на экзаменационную &quot;комнату&quot;</strong>: поле не должно быть пустым.</p>
<p>  <img src="../assets/docs/popupInterface.png" alt="Alt text"></p>
</li>
</ul>
<p>Примечания:</p>
<ul>
<li>Система автоматически проверяет корректность ввода и предоставляет подсказки при ошибках.<ul>
<li><p>Ошибки:</p>
<p>  <img src="../assets/docs/inputErrors.png" alt="Alt text"></p>
</li>
<li><p>Подсказки:</p>
<p>  <img src="../assets/docs/inputHints.png" alt="Alt text"></p>
</li>
</ul>
</li>
</ul>
<h3>4. Настройка разрешений</h3>
<ol>
<li><p>Нажмите кнопку <strong>&quot;Разрешения&quot;</strong>, которая находится во всплывающем окне, для перехода в системную вкладку расширения.</p>
<p> Системная вкладка закрепится в начале всех вкладок. </p>
<p> <img src="../assets/docs/pinnedTab.png" alt="Alt text"></p>
<p> <strong>Важно:</strong> Для корректной работы прокторинга системную вкладку закрывать, обновлять - нельзя! (Закрыть можно только ПОСЛЕ окончания прокторинга)</p>
<p> Система уведомляет о необходимости предоставления разрешений, а также просит не прерывать их для корректной работы приложения.</p>
<p> <img src="../assets/docs/permissionsCue.png" alt="Alt text"></p>
<p> Чтобы открыть всплывающее окно, нужно нажать на закреплённый значок нашего расширения в панеле инструментов.</p>
<p> <img src="../assets/docs/openPinnedPopup.png" alt="Alt text"></p>
<p> Если вы не закрепили его, то нужно нажать значок расширений браузера в панеле инструментов и там нажать по расширению Local proctoring, однако рекомендуется в таком случае вернуться на шаг закрепления расширения в панеле инструментов.</p>
<p> <img src="../assets/docs/popupLocation.png" alt="Alt text"></p>
<p> <img src="../assets/docs/openPopup.png" alt="Alt text"></p>
</li>
<li><p>Нажав на кнопку &quot;Хорошо. Я прочитал(а).&quot;, система предложит выдать разрешение на запись экрана:</p>
<p> <img src="../assets/docs/permissionScreen.png" alt="Alt text"></p>
<h3>Прерывание записи</h3>
<p> При отмене предоставления доступа к экрану система сообщит, об отмене разрешения для экрана:</p>
<p> <img src="../assets/docs/permissionErrorScreenCue.png" alt="Alt text"></p>
<p> Повторно нажмите <strong>&quot;Разрешения&quot;</strong>.</p>
</li>
<li><p>После предоставления экрана система попросит выдать разрешение на использование микрофона и камеры.</p>
</li>
</ol>
<ul>
<li><p>&quot;Разрешить в этот раз&quot;. Расширение будет запрашивать у Вас разрешение каждый раз при записи. </p>
</li>
<li><p>&quot;Разрешить при нахождении на сайте&quot;. Вы соглашаетесь с тем, что расширение всегда использует либо микрофон, либо камеру. </p>
<p>  <img src="../assets/docs/permissionsCamMic.png" alt="Alt text"></p>
<h3>Прерывание записи</h3>
<p>  При запрете разрешений на использование микрофона и камеры система сообщит, что доступ к микрофону или камере запрещен:</p>
<p>  <img src="../assets/docs/permissionErrorMicCue.png" alt="Alt text"> <img src="../assets/docs/permissionErrorCamCue.png" alt="Alt text"></p>
<p>  После чего система попросит убедиться, что доступ к микрофону и камере разрешены.</p>
<p>  <img src="../assets/docs/permissionNotification.png" alt="Alt text"></p>
<p>  Нажав на кнопку &quot;Хорошо. Я прочитал(а).&quot;, система закроет системную вкладку расширения и перенаправит Вас на вкладку настроек безопасности расширения. Для камеры и микрофона необходимо поменять статус &quot;Блокировать&quot; на &quot;Разрешить&quot; или &quot;Спрашивать (по умолчанию)&quot;. </p>
<p>  <img src="../assets/docs/permissionsCamMicStatus.png" alt="Alt text"></p>
<p>  Примечание:</p>
<ul>
<li>В случае со статусом &quot;Спрашивать (по умолчанию)&quot; расширение будет запрашивать у Вас разрешение каждый раз при записи.</li>
</ul>
<p>  Повторно нажмите <strong>&quot;Разрешения&quot;</strong>.</p>
</li>
</ul>
<ol start="4">
<li><p>После выдачи всех разрешений система сообщит о готовности к записи с небольшой информацией о работе расширения.</p>
<p> <img src="../assets/docs/readyToRecordCue.png" alt="Alt text"></p>
<p> Также на вкладке появится предпросмотр: экрана и камеры. Предпросмотр работает в режиме live трансляции. В правом окошке - предпросмотр камеры, в левом - предпросмотр экрана.</p>
<ul>
<li>Пожалуйста не пугайтесь страшной рекурсии на экране, это предпросмотр Вашего экрана, так и должно быть.</li>
<li>Не волнуйтесь, Ваши действия до нажатия &quot;Начать запись&quot; не записываются.</li>
</ul>
<p> <img src="../assets/docs/extensionPreview.png" alt="Alt text"></p>
<h3>Прерывание записи</h3>
<p> Если закрыть доступ к экрану, камере или микрофону после предоставления разрешений, то система уведомит о том, что соответствующее разрешение было заблокировано и нужно повторно нажать кнопку &quot;Разрешения&quot; после предоставления недостающих разрешений.</p>
<p> <img src="../assets/docs/permissionLoseScreenCue.png" alt="Alt text">
 <img src="../assets/docs/permissionLoseCamCue.png" alt="Alt text">
 <img src="../assets/docs/permissionLoseMicCue.png" alt="Alt text"></p>
</li>
</ol>
<h3>5. Начало записи</h3>
<ol>
<li>Нажмите кнопку <strong>&quot;Начать запись&quot;</strong>. Система:</li>
</ol>
<ul>
<li><p>Запустит запись.</p>
</li>
<li><p>Отключит предпросмотр.</p>
</li>
<li><p>Уведомит о начале процесса.</p>
<p>  <img src="../assets/docs/startRecord.png" alt="Alt text"></p>
</li>
</ul>
<ol start="2">
<li><p>Во время записи можно включить и выключить предпросмотр через системную вкладку.</p>
<p> <img src="../assets/docs/previewOn.png" alt="Alt text">
 <img src="../assets/docs/previewDown.png" alt="Alt text"></p>
<h3>Прерывание записи</h3>
<p> При отзыве разрешений во время записи:</p>
<ol>
<li>Система уведомит о блокировке доступа попросит выдать разрешения и начать запись заново.</li>
<li>Нажмите <strong>&quot;Хорошо. Я согласен(а).&quot;</strong> для остановки записи.</li>
<li>Файлы сохранятся в папку загрузок браузера, выставленную в настройка самого браузера. По умолчанию данная папка <strong>Загрузки</strong>, или <strong>Downloads</strong> и др. в зависимости от локализации. Поддерживается случай настройки загрузок в браузере, запрашивающий подтверждение скачивания: в таком случае система выводит системное окно с подтверждением скачивания. Далее система предоставит статистику:</li>
</ol>
<ul>
<li><p>Начало записи</p>
</li>
<li><p>Конец записи</p>
</li>
<li><p>Длительность записи</p>
</li>
<li><p>Куда сохранены файлы записи экрана и камеры</p>
</li>
<li><p>Название файла записи экрана (его размер)</p>
</li>
<li><p>Название файла записи камеры (его размер):</p>
</li>
<li><p>Куда сохранен файл логов</p>
<p>  <img src="../assets/docs/stopRecord.png" alt="Alt text"></p>
</li>
</ul>
</li>
</ol>
<h3>6. Конец записи</h3>
<ol>
<li>Нажмите &quot;Остановить запись&quot;.</li>
<li>Записи остановятся и сохранятся в папку загрузок браузера, выставленную в настройка самого браузера. По умолчанию данная папка <strong>Загрузки</strong>, или <strong>Downloads</strong> и др. в зависимости от локализации. Поддерживается случай настройки загрузок в браузере, запрашивающий подтверждение скачивания: в таком случае система выводит системное окно с подтверждением скачивания.</li>
<li>Система предоставит статистику:</li>
</ol>
<ul>
<li>Начало записи</li>
<li>Конец записи</li>
<li>Длительность записи</li>
<li>Куда сохранены файлы записи экрана и камеры</li>
<li>Название файла записи экрана (его размер)</li>
<li>Название файла записи камеры (его размер):</li>
<li>Куда сохранен файл логов</li>
</ul>
<h2>Просмотр записей</h2>
<p>Кодеки: H264 - MPEG-4 AVC (part 10) (avc1) и OPUS
Видеоплеер должен работать с этими кодеками. Чтобы решить проблему отображения, искать решение на стороне видеоплеера. </p>
<p>Full support:</p>
<ul>
<li><p>Linux: </p>
<ol>
<li>Chrome</li>
<li>Microsoft Edge</li>
<li>Totem</li>
<li>Haruna</li>
</ol>
</li>
<li><p>Windows:</p>
<ol>
<li>Chrome</li>
<li>Microsoft Edge</li>
<li>Vivaldi</li>
</ol>
</li>
</ul>
<p>Half support: </p>
<ul>
<li><p>Linux:</p>
<ol>
<li>VLC (Смотреть локально &quot;Кодеки-&gt;Декодирование с аппаратным ускорением&quot; и пробовать другие, если по умолчанию не работает. На Fedora 41 работают VA-API, VA-API DRM, отключено, не работает VDPAU) Звук в левом наушнике.</li>
<li>Firefox - нет длительности и не работает перемотка.</li>
<li>Dragon Player - работает, но после перемотки накладывается инверсия на изображение.</li>
</ol>
</li>
<li><p>Windows:</p>
<ol>
<li>Кино и ТВ - работает перемотка только кнопками, нет длительности.</li>
<li>Фотографии - работает перемотка только кнопками, длительность некорректная.</li>
<li>Медиаплеер -  нет длительности и не работает перемотка.</li>
<li>Firefox - нет длительности и не работает перемотка.</li>
<li>VLC - работает с автоматическим модулем демультиплексора, при перемотке возможны искажения изображения на несколько секунд.</li>
</ol>
</li>
</ul>

</section>